{"pageProps":{"proj_id":"travelersapi","project":{"url":"https://www.npmjs.com/package/travelersapi","img":[760,405,"/icons/travelersapi.png"],"title":"Travelers API","body":["An ",{"url":"https://www.npmjs.com/","c":["npm"]}," package for creating ","bots for the game ",{"url":"https://thetravelers.online","c":["thetravelers.online"]},"."],"technologies":["typescript","node"],"github":{"repo":"pfgithub/travelersapi","branch":"master"}},"project_readme":{"text":"<p>helper for connecting to <a href=\"https://thetravelers.online/\" target=\"_blank\" rel=\"noopener noreferrer\">https://thetravelers.online/</a> from node</p><h1><a id=\"user-content-example\" class=\"anchor\" aria-hidden=\"true\" href=\"https://github.com/pfgithub/travelersapi/blob/master/#example\" target=\"_blank\" rel=\"noopener noreferrer\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>example</h1><div class=\"highlight highlight-source-shell\"><pre>npm i --save travelersapi</pre></div><div class=\"highlight highlight-source-ts\"><pre><span class=\"pl-k\">const</span><span class=\"pl-kos\">{</span> createBot<span class=\"pl-kos\">,</span> generateWorldTileAt <span class=\"pl-kos\">}</span><span class=\"pl-c1\">=</span><span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"travelersapi\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-k\">const</span><span class=\"pl-s1\">traveler</span><span class=\"pl-c1\">=</span><span class=\"pl-en\">createBot</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">traveler</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">on</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">update</span><span class=\"pl-c1\">=</span><span class=\"pl-s1\">msg</span><span class=\"pl-c1\">=&gt;</span><span class=\"pl-kos\">{</span><span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"I&lt;\"</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">msg</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Standing on: \"</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">tile</span>: <span class=\"pl-en\">generateWorldTileAt</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">msg</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">x</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">msg</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">y</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">traveler</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">send</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">action</span>: <span class=\"pl-s\">\"setDir\"</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">dir</span>: <span class=\"pl-s\">\"nw\"</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">autowalk</span>: <span class=\"pl-c1\">false</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">traveler</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">on</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">updateImmediate</span><span class=\"pl-c1\">=</span><span class=\"pl-s1\">msg</span><span class=\"pl-c1\">=&gt;</span><span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">traveler</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">on</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">evalJS</span><span class=\"pl-c1\">=</span><span class=\"pl-s1\">js</span><span class=\"pl-c1\">=&gt;</span><span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">traveler</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">login</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"ACCOUNT T= COOKIE VALUE\"</span><span class=\"pl-kos\">,</span><span class=\"pl-s\">\"CAPTCHA TOKEN\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">then</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">startingData</span><span class=\"pl-c1\">=&gt;</span><span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Ready!\"</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">startingData</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-s1\">process</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"unhandledRejection\"</span><span class=\"pl-kos\">,</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">reason</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">p</span><span class=\"pl-kos\">)</span><span class=\"pl-c1\">=&gt;</span><span class=\"pl-kos\">{</span><span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Unhandled Rejection at:\"</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">p</span><span class=\"pl-kos\">,</span><span class=\"pl-s\">\"reason:\"</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">reason</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><blockquote><p>Note: the typescript types provided are incomplete! You may wish to not use them or make your own.</p></blockquote><h1><a id=\"user-content-account-token\" class=\"anchor\" aria-hidden=\"true\" href=\"https://github.com/pfgithub/travelersapi/blob/master/#account-token\" target=\"_blank\" rel=\"noopener noreferrer\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>account token</h1><ul><li>go to <a href=\"https://thetravelers.online/\" target=\"_blank\" rel=\"noopener noreferrer\">https://thetravelers.online/</a> and log in.</li><li>go to the storage tab or your browser's equivalent</li><li>find the cookie <code>T=cdsajnkcjnlsdcnjalkcjandlsk</code></li><li>The part after the = is your token.</li></ul><h1><a id=\"user-content-captcha-token\" class=\"anchor\" aria-hidden=\"true\" href=\"https://github.com/pfgithub/travelersapi/blob/master/#captcha-token\" target=\"_blank\" rel=\"noopener noreferrer\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>captcha token</h1><ul><li>go to thetravelers.online</li><li>complete the captcha (do not press \"wake up\")</li><li>paste this script into the console:</li></ul><div class=\"highlight highlight-source-js\"><pre><span class=\"pl-en\">prompt</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"Copy the captcha:\"</span><span class=\"pl-kos\">,</span><span class=\"pl-c1\">SOCKET</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">captcha</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><p>you have to do this every time you log in. tokens expire quickly and you cannot reuse the same token multiple times.</p><h1><a id=\"user-content-help\" class=\"anchor\" aria-hidden=\"true\" href=\"https://github.com/pfgithub/travelersapi/blob/master/#help\" target=\"_blank\" rel=\"noopener noreferrer\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>help</h1><p>in a web browser logged into <a href=\"https://thetravelers.online/\" target=\"_blank\" rel=\"noopener noreferrer\">https://thetravelers.online/</a>, you can log all messages sent to and from the server by psating this in the console:</p><div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">window</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">gsend</span><span class=\"pl-c1\">=</span><span class=\"pl-c1\">SOCKET</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">send</span><span class=\"pl-kos\">;</span><span class=\"pl-c1\">SOCKET</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">send</span><span class=\"pl-c1\">=</span><span class=\"pl-s1\">a</span><span class=\"pl-c1\">=&gt;</span><span class=\"pl-kos\">(</span><span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"i&gt;\"</span><span class=\"pl-kos\">,</span><span class=\"pl-s1\">a</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span><span class=\"pl-smi\">window</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">gsend</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">a</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span><span class=\"pl-smi\">window</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">adata</span><span class=\"pl-c1\">=</span><span class=\"pl-c1\">ENGINE</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">applyData</span><span class=\"pl-kos\">;</span><span class=\"pl-c1\">ENGINE</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">applyData</span><span class=\"pl-c1\">=</span><span class=\"pl-kos\">(</span>...<span class=\"pl-s1\">a</span><span class=\"pl-kos\">)</span><span class=\"pl-c1\">=&gt;</span><span class=\"pl-kos\">(</span><span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"I&lt;\"</span><span class=\"pl-kos\">,</span> ...<span class=\"pl-s1\">a</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span><span class=\"pl-smi\">window</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">adata</span><span class=\"pl-kos\">(</span>...<span class=\"pl-s1\">a</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div><h1><a id=\"user-content-getperlin-containsevent\" class=\"anchor\" aria-hidden=\"true\" href=\"https://github.com/pfgithub/travelersapi/blob/master/#getperlin-containsevent\" target=\"_blank\" rel=\"noopener noreferrer\"><span aria-hidden=\"true\" class=\"octicon octicon-link\"></span></a>getPerlin, containsEvent</h1><p><code>containsEvent(138750, 62680)</code> ⇒ true</p><p><code>containsEvent(138750, 62681)</code> ⇒ false</p>"}},"__N_SSG":true}